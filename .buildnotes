# Build Notes

## Critical: Cargo.lock File

**DO NOT COMMIT Cargo.lock to the repository!**

The `Cargo.lock` file is generated by Cargo and its format version depends on the Cargo version used. Since Solana's bundled cargo-build-sbf uses a specific Cargo version, committing a Cargo.lock generated by a newer Cargo version will cause build failures with the error:

```
error: failed to parse lock file at: /path/to/Cargo.lock
Caused by:
  lock file version 4 requires `-Znext-lockfile-bump`
```

**Solution:**
- `Cargo.lock` is already in `.gitignore` (line 7)
- If it exists locally, delete it: `rm Cargo.lock`
- Anchor will generate it during the build process using the correct Cargo version

## Build Environment

- **Solana CLI**: Latest stable (currently auto-updates)
- **Anchor**: 0.30.1 (stable with our codebase)
- **Node.js**: 20 LTS
- **Rust**: Managed by Solana CLI (includes cargo-build-sbf)

## Last Updated
2026-02-09
